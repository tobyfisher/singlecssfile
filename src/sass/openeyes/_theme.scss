// ** Copyright (C) 2020, OpenEyes Foundation. This file is part of OpenEyes.
// ** OpenEyes is free software; and is distributed, WITHOUT ANY WARRANTY under the terms of AGPL 3.0 licence.

// CSS Vars (Custom selectors) for theme colours.
// set <HTML> class to theme
// e.g. class="theme-light" or "theme-dark"
@mixin cssVars( $group, $map ) {
	@each $type, $prop in $map {
		--#{$group}-#{$type}: #{$prop};
	}
}

// defaults groups for "dark" theme settings
// "Dark": interaction is subtle
// "Light": interaction is more obvious, with more contrast

// ---- Backgrounds
$bg: (
	"html": hsl(214, 19%, 12%),
	"page": hsl(215, 19%, 14%), // same as "html" in dark
	"max": #000,
	"popup":hsl(212, 18%, 10%),
	"hover-row": hsl(210, 30%, 11%),
	"data": hsl(213, 10%, 10%),
	"title":  hsl(214, 18%, 16%),
	"event": hsl(213, 6%, 16%),
	"event-list":hsl(210, 26%, 16%)
);

$bg-light: (
	"html": rgb(210, 208, 208),
	"page": rgb(226, 225, 225),
	"max": #fff,
	"popup": rgb(231, 230, 230),
	"hover-row": rgb(206, 205, 205),
	"data": rgb(235, 233, 233),
	"title": rgb(201, 200, 200),
	"event": rgb(251, 250, 250),
	"event-list": rgb(240, 240, 240),
);

// ---- Text
$txt: (
	"base": rgb(204, 204, 204),
	"light": rgb(150, 150, 150),
	"hd": rgb(90, 130, 145),
	"active": #46a0b4,
	"highlight": #00c8cd,
	"invert": #0d0d0d
);

$txt-light: (
	"base": #0a0a0a,
	"light": #5a5a64,
	"hd": rgb(40, 70, 200),
	"active": #2346c8,
	"highlight": rgb(40, 70, 250),
	"invert": #f0f0f0,
);

// ---- Font weights (because white on dark bleeds and looks thicker)
$font-weight: (
	"thin": 100,
	"light": 300,
	"medium": 400,
	"bold": 500
);

$font-weight-light: (
	"thin": 300,
	"light": 400,
	"medium": 500,
	"bold": 700
);

// ---- GUI
$gui: (
	"spinner": #00ffff,
	"vc": #00b4eb,
	"line": rgb(48, 51, 53), //#28303c,
	"line-soft": hsl(216, 18%, 18%),
	"scroll-track":#0a0a0f,
	"scroll-thumb":#37373c,
);

$gui-light: (
	"spinner": #00b4ff,
	"vc": #00b4eb,
	"line": #c0bebe,
	"line-soft": hsl(0, 3%, 80%),
	"scroll-track":#5f5f64,
	"scroll-thumb":#aaaaaa,
);

// ---- Buttons
// "Dark" - interaction is subtle
$btn: (
	"base": hsl(210, 26%, 16%),
	"base-heavy": rgb(24, 32, 40), // a 'heavy' version of base (see Event list & .hint without colour)
	"base-light": hsl(213, 13%, 15%), // a 'soft' (subtle) version (see Add Event popup and btn lists)
	"text":#bbb,
	"text-selected":#ddd,
	"blue-hint": #0e4886,
	"blue": hsl(220, 87%, 28%),
	"blue-active": #1128b0,
	"green-hint": #1a4f1b,
	"green": #0a6b11,
	"green-active": #171,
	"red-hint": #721d1d,
	"red": #8c0909,
	"red-active": #911,
	"disabled": hsl(213, 12%, 21%),
	"icon-hover-filter": none,
	"icon-opacity": 0.6,
);

// "Light" - interaction is more obvious, with more contrast
$btn-light: (
	"base":hsl(211, 14%, 55%),
	"base-heavy": hsl(211, 15%, 45%),
	"base-light": hsl(211, 8%, 83%),
	"text":#fff,
	"text-selected":#fff,
	"blue-hint": #4285e0,
	"blue": hsl(211, 80%, 52%),
	"blue-active": #0c62bd,
	"green-hint": #0c7915,
	"green": #191,
	"green-active": #1a1,
	"red-hint": #830c0c,
	"red": #a11,
	"red-active": #c11,
	"disabled": hsl(211, 13%, 65%),
	"icon-hover-filter": invert(100%) grayscale(100%),
	"icon-opacity": 0.7,
);

// ---- Inputs
$input: (
	"scheme": "dark",
	"focus-outline": #096c9a,
	"base": hsl(210, 25%, 19%),
	"hint": rgba(36, 49, 61, 0.3),
	"text": #ccc,
	"placeholder": #787878,
);

$input-light: (
	"scheme": "light",
	"focus-outline": #0701e0,
	"base": #fff,
	"hint": rgba(255,255,255,0.5),
	"text": #222,
	"placeholder": #959595,
);

// ---- Colors (alerts, flags, pathsteps, wait, etc)
$color: (
	"highlighter": #b8ab88,
	"green": #006900,
	"red": #9b0000,
	"burgundy": #6b1400,
	"orange": #a05500,
	"yellow": #c8b432,
	"grey": rgb(90, 80, 80),
	"hint-green": hsl(136, 17%, 22%), // hint colours work with standard theme text
	"hint-red": hsl(0, 90%, 12%),
	"hint-orange": hsl(36, 100%, 22%),
);

$color-light: (
	"highlighter": #ebd37b,
	"green": #009b00,
	"red": #cd0000,
	"burgundy": #751e00,
	"orange": #dc7305,
	"yellow": #d2aa14,
	"grey": rgb(135, 130, 130),
	"hint-green": hsl(120, 26%, 75%),
	"hint-red": hsl(0, 82%, 74%),
	"hint-orange": hsl(24, 64%, 74%),
);

// ---- Path Steps
$step: (
	"blue": rgb(20, 100, 200),
	"green": rgb(50, 53, 50), // was green": rgb(45,70,45
	"orange": rgb(160, 50, 0),
	"yellow": rgb(162, 140, 10),
	"red": rgb(160, 40, 10),
	"grey": rgb(30, 30, 32),
	"text": rgb(240, 240, 240),
	"outline": rgba(170, 170, 170, 0.4),
);

$step-light: (
	"blue": rgb(20, 100, 200),
	"green": rgb(140, 147, 140),
	"orange": rgb(180, 80, 0),
	"yellow": rgb(182, 160, 17),
	"red": rgb(200, 40, 10),
	"grey": rgb(235, 235, 235),
	"text": rgb(245, 245, 245),
	"outline": rgba(120, 120, 130, 0.4),
);

// ---- EyeDraw (v3 & v2.5) colours
$ed3: (
	"blue": rgb(218, 230, 241), // note": used in Elements too!
	"panels": pink,
	"text": rgb(50, 50, 60),
	"btn": #118afb,
	"icon-area": #bdcdde,
	"doo-bg": #ccc,
);

$ed3-light: (
	"blue": rgb(218, 230, 241),
	"panels": pink,
	"text": rgb(50, 50, 60),
	"btn": #118afb,
	"icon-area": #bdcdde,
	"doo-bg": #ccc,
);


// ---- SVG icons

$themedIcons: ("add-blue", "add", "arrow-down-bold", "arrow-down", "arrow-left-bold", "arrow-right-bold", "arrow-up-bold", "arrow-up",
"asterisk-blue", "asterisk", "audit-trail", "beo", "cancel", "change", "child-arrow", "cog", "collapse", "comments-added", "comments-who", "comments",
"copy-forward", "crying", "direction-down-circle", "direction-down", "direction-horizontal",
"direction-left-circle", "direction-left", "direction-right-circle", "direction-right", "direction-up-circle", "direction-up",
"double-slash", "doubt-active", "doubt", "download", "downup", "draft", "draft-orange", "draft-green", "drop-done", "drop", "drug-rx", "duplicate", "edit-blue", "edit",
"exclamation", "expand", "eye-circle", "eye", "female", "filter", "finish", "flag", "flagline", "flux", "fork", "formulary", "happy",
"increase-height-orange", "increase-height", "info-blue", "info", "injection", "lat-L-inactive", "lat-L-query", "lat-L-red", "lat-L",
"lat-NA", "lat-R-green", "lat-R-inactive", "lat-R-query", "lat-R", "letter-1", "letter-2", "letter-GP", "letter-invitation", "line-break",
"male", "menu", "minus-bold", "minus", "more-h", "more-h-orange", "move", "mpr", "no-permissions", "padlock", "parent-arrow", "path-break", "patient", "pause", "pencil-blue",
"pencil", "person-green", "person-inactive", "person-query", "person-split", "person", "plus-bold", "plus-circle", "plus", "print", "range",
"reduce-height", "remove-circle", "remove", "reset", "rotate-left", "rotate-right", "save-blue", "save-team", "save", "search", "star", "starline", "start",
"status-query-reply", "status-query", "status-urgent", "stop", "sync", "tick-chunky", "tick-circle", "tick-green", "tick-double", "tick", "time", "top", "trash-blue",
"trash", "trials", "team", "triangle", "undo", "urgent", "vc", "waiting", "warning", "warning-standard", "warning-none", "whiteboard", "zoom-in", "zoom-out");

// not available via <i>, only for internal CSS usage (backgrounds)
$uiThemedIcons: ("face", "element-divider", "event-elements", "btn-goto", "tab-more-h", "tab-whiteboard", "tab-print", "tab-trash", "watermark-patient",
"nystagmus-arrow-h-1", "nystagmus-arrow-h-2", "nystagmus-arrow-h-3");


// -- these work across both themes:
$rgbIcons: ("circle-blue", "circle-green", "circle-yellow", "circle-orange", "circle-red", "circle-grey",
"triangle-blue", "triangle-green", "triangle-orange", "triangle-red", "triangle-grey", "exclamation-green", "exclamation-orange", "exclamation-red",
"flag-green", "flag-orange", "flag-red", "flag-grey", "mpr-green", "mpr-orange", "mpr-red", "warning-none", "warning", "cross-red",);


$uiIcons: ("asterisk-white", "filter", "list-dot", "arrow-right-blue", "no-permissions-white",
"search-white", "search", "shortcut-arrow", "sidebar-audit-trail", "sidebar-switcher-elements", "sidebar-switcher-events",
"sidebar", "type-linebreak", "type-paragraph", "vc-move", "watermark-clinic");

// *********************
// CSS custom properties
:root {

	@each $icon in $uiIcons {
		--i-ui-#{$icon}: url("../svg/in-css/all/ui/#{$icon}.svg");
	}
}

// *********************
// "dark": requires "theme-dark" class on <HTML>
html.theme-dark {

	@each $icon in $themedIcons {
		--i-#{$icon}: url("../svg/in-css/dark/i/#{$icon}.svg");
	}

	@each $icon in $rgbIcons {
		--i-#{$icon}: url("../svg/in-css/dark/i/#{$icon}.svg");
	}

	@each $icon in $uiThemedIcons {
		--i-#{$icon}: url("../svg/in-css/dark/ui/#{$icon}.svg");
	}

	@include cssVars("bg", $bg);
	@include cssVars("txt", $txt);
	@include cssVars("font", $font-weight);
	@include cssVars("gui", $gui);
	@include cssVars("btn", $btn);
	@include cssVars("color", $color);
	@include cssVars("input", $input);
	@include cssVars("step", $step);
	@include cssVars("ed3", $ed3);
}


// *********************
// "light": requires "theme-light" class on <HTML>
html.theme-light {

	@each $icon in $themedIcons {
		--i-#{$icon}: url("../svg/in-css/light/i/#{$icon}.svg");
	}

	@each $icon in $rgbIcons {
		--i-#{$icon}: url("../svg/in-css/light/i/#{$icon}.svg");
	}

	@each $icon in $uiThemedIcons {
		--i-#{$icon}: url("../svg/in-css/light/ui/#{$icon}.svg");
	}

	@include cssVars("bg", $bg-light);
	@include cssVars("txt", $txt-light);
	@include cssVars("font", $font-weight-light);
	@include cssVars("gui", $gui-light);
	@include cssVars("btn", $btn-light);
	@include cssVars("color", $color-light);
	@include cssVars("input", $input-light);
	@include cssVars("step", $step-light);
	@include cssVars("ed3", $ed3);


}


