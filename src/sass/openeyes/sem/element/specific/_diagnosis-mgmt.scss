// ** Copyright (C) 2020, OpenEyes Foundation. This file is part of OpenEyes.
// ** OpenEyes is free software; and is distributed, WITHOUT ANY WARRANTY under the terms of AGPL 3.0 licence.

@use "openeyes/mix" as *;

.element {
	// diagnosis element specific layout
	// could be for ophthalmic or systemic

	// table.diagnoses table hook if it should be needed

	// <td> 1st column - diag (name and lat)
	// <td> 2nd column - diagnosis-mgmt (wrapper)
	// <td> 3rd column - actions

	.diag,
	.diag-lat {
		@include flex(center, space-between);
		gap: 5px;
	}

	.diag-user {
		padding: 0 0 0 10px;
	}

	// trash, remove, view changes (at the end)
	.diag-actions {
		@include flex(center, flex-end);
		flex-wrap: nowrap; // push <td>
		width:100px;
	}

	// wrapper for all the various diagnosis states
	.diag-mgmt {
		@include flex(center, space-between);
		gap: 4px;

		&.sides {
			.right,
			.left {
				flex: 1 1 0;
				@include flex(center, space-between);
			}

			.right {
				// match the line-l on the table
				border-right: 2px solid var(--gui-line);
			}
		}


		.diag-state,
		.state-change,
		.review {
			@include flex(center, space-between);
		}

		.diag-state {
			flex: 1 1 0;
		}

		.state-notes {
			@include flex(center, space-between);
			flex-wrap: wrap;
			padding: 0 0 0 10px;

			// Suspected, Present, Not Present
			.state {
				margin: 3px 8px 3px 1px;
			}

			button {
				padding: 0 2px;
			}

		}

		.state-change {
			gap: 5px;
		}

		.state-review {
			gap: 10px;
		}

		// Resolved or Removed
		.diag-record {
			.by-who {
				display:inline-block;
				margin:0 0 0 5px;
				small {
					opacity: 0.5;
				}
			}
		}

		.diag-date {
			@include flex(center, center);
			width: 100px;
			margin:0 1px;
			input[type=date] {
				width:100%;
			}
		}
	}
}